"use strict";(self["webpackChunkpocket"]=self["webpackChunkpocket"]||[]).push([[94],{94:function(e,t,l){l.r(t),l.d(t,{default:function(){return _}});var a=l(3151),n=l(9670),c=l(1989),s=l(2318),o=l(5250);const i=e=>((0,a.dD)("data-v-4e6135f4"),e=e(),(0,a.Cn)(),e),u={id:"random-choice",class:"f-c-c"},r=i((()=>(0,a._)("h3",null,"选项使用逗号隔开，按下回车开始随机选择",-1))),v={class:"text-box"},d=["onKeydown"],w={class:"box f-c"};var f={__name:"RandomChoicePicker",setup(e){const t=(0,s.iH)(""),l=(0,s.iH)(null);let i,f,m=0;function h(){if(k(),l.value.length<1)return;const e=[...l.value];i=window.setInterval((()=>{if(1===e.length){const t=e[0].classList;t.contains("active")?t.remove("active"):t.add("active")}else{let t=_(e.length-1);e[t].classList.add("active"),e[m].classList.remove("active"),m=t}}),100),f=window.setTimeout((()=>{window.clearInterval(i)}),2e3)}function _(e){let t=(0,o.MH)(0,e);return t===m&&(t=_(e)),t}function k(){window.clearInterval(i),window.clearTimeout(f),l.value&&l.value.length>0&&l.value[m]?.classList.remove("active")}(0,a.YP)(t,(()=>{k()}));const p=(0,a.Fl)((()=>t.value.match(/^\s*$/)?[]:t.value.split(/[,，]/).filter((e=>!e.match(/^\s*$/)))));return(0,a.Jd)((()=>{l.value=null,k()})),(e,s)=>((0,a.wg)(),(0,a.iD)("div",u,[r,(0,a._)("div",v,[(0,a._)("button",{class:"outline small",onClick:s[0]||(s[0]=e=>t.value="")},"重置"),(0,a._)("button",{class:"outline small",onClick:h},"随机"),(0,a.wy)((0,a._)("textarea",{cols:"30",rows:"5","onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e),onKeydown:(0,n.D2)((0,n.iM)(h,["prevent"]),["enter"])},null,40,d),[[n.nr,t.value]])]),(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.value,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,ref_for:!0,ref_key:"allStr",ref:l,class:"str-box"},(0,c.zw)(e),1)))),128))])]))}},m=l(5052);const h=(0,m.Z)(f,[["__scopeId","data-v-4e6135f4"]]);var _=h}}]);