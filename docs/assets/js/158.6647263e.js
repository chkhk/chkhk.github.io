"use strict";(self["webpackChunkpocket"]=self["webpackChunkpocket"]||[]).push([[158],{4158:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var l=a(3151),n=a(9670),c=a(1989),s=a(2318),o=a(5250);const i=e=>((0,l.dD)("data-v-38e9ab2a"),e=e(),(0,l.Cn)(),e),u={id:"random-choice",class:"f-c-c"},r=i((()=>(0,l._)("h3",null,"选项使用逗号隔开，按下回车开始随机选择",-1))),v={class:"text-box"},d=["onKeydown"],w={class:"box f-c"};var f={__name:"RandomChoicePicker",setup(e){const t=(0,s.iH)(""),a=(0,s.iH)(null);let i,f,m=0;function h(){if(k(),a.value.length<1)return;const e=[...a.value];i=window.setInterval((()=>{if(1===e.length){const t=e[0].classList;t.contains("active")?t.remove("active"):t.add("active")}else{let t=_(e.length-1);e[t].classList.add("active"),e[m].classList.remove("active"),m=t}}),100),f=window.setTimeout((()=>{window.clearInterval(i)}),2e3)}function _(e){let t=(0,o.MH)(0,e);return t===m&&(t=_(e)),t}function k(){window.clearInterval(i),window.clearTimeout(f),a.value&&a.value.length>0&&a.value[m]?.classList.remove("active")}(0,l.YP)(t,(()=>{k()}));const p=(0,l.Fl)((()=>t.value.match(/^\s*$/)?[]:t.value.split(/[,，]/).filter((e=>!e.match(/^\s*$/)))));return(0,l.Jd)((()=>{k()})),(e,s)=>((0,l.wg)(),(0,l.iD)("div",u,[r,(0,l._)("div",v,[(0,l._)("button",{class:"outline small",onClick:s[0]||(s[0]=e=>t.value="")},"重置"),(0,l._)("button",{class:"outline small",onClick:h},"随机"),(0,l.wy)((0,l._)("textarea",{cols:"30",rows:"5","onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e),onKeydown:(0,n.D2)((0,n.iM)(h,["prevent"]),["enter"])},null,40,d),[[n.nr,t.value]])]),(0,l._)("div",w,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,ref_for:!0,ref_key:"allStr",ref:a,class:"str-box"},(0,c.zw)(e),1)))),128))])]))}},m=a(5052);const h=(0,m.Z)(f,[["__scopeId","data-v-38e9ab2a"]]);var _=h}}]);